# æ™ºè‚¡é€šæŠ€æœ¯æ¶æ„æ–‡æ¡£

## ğŸ“‹ ç›®å½•

1. [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
2. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
3. [æ•°æ®æµè®¾è®¡](#æ•°æ®æµè®¾è®¡)
4. [æ ¸å¿ƒæ¨¡å—](#æ ¸å¿ƒæ¨¡å—)
5. [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
6. [å®‰å…¨è®¾è®¡](#å®‰å…¨è®¾è®¡)
7. [éƒ¨ç½²æ¶æ„](#éƒ¨ç½²æ¶æ„)
8. [ç›‘æ§ä½“ç³»](#ç›‘æ§ä½“ç³»)

## ğŸ¯ ç³»ç»Ÿæ¦‚è¿°

### é¡¹ç›®å®šä½
æ™ºè‚¡é€šæ˜¯ä¸€ä¸ªé¢å‘ä¸ªäººé‡åŒ–æŠ•èµ„è€…çš„æ™ºèƒ½æŠ•ç ”å¹³å°ï¼Œé‡‡ç”¨ç°ä»£åŒ–çš„å¾®æœåŠ¡æ¶æ„ï¼Œèåˆä¼ ç»ŸæŠ€æœ¯åˆ†æä¸äººå·¥æ™ºèƒ½æŠ€æœ¯ï¼Œä¸ºç”¨æˆ·æä¾›ä¸“ä¸šçº§çš„æŠ•èµ„å†³ç­–æ”¯æŒã€‚

### æ ¸å¿ƒä»·å€¼
- **æ™ºèƒ½åŒ–**ï¼šAIé©±åŠ¨çš„æŠ•èµ„åˆ†æå’Œä¿¡å·ç”Ÿæˆ
- **ä¸“ä¸šåŒ–**ï¼šæœºæ„çº§çš„æŠ€æœ¯åˆ†æå·¥å…·
- **ä¾¿æ·åŒ–**ï¼šç”¨æˆ·å‹å¥½çš„ç•Œé¢è®¾è®¡
- **ä¸ªæ€§åŒ–**ï¼šåŸºäºç”¨æˆ·ç”»åƒçš„å®šåˆ¶æœåŠ¡

### æŠ€æœ¯ç‰¹è‰²
- **Go + Python æ··åˆæ¶æ„**ï¼šé«˜æ€§èƒ½è®¡ç®—ä¸AIæ¨ç†çš„å®Œç¾ç»“åˆ
- **çº¯Go SQLiteé©±åŠ¨**ï¼šè·¨å¹³å°å…¼å®¹ï¼Œé›¶é…ç½®éƒ¨ç½²
- **å¤šæºæ•°æ®èšåˆ**ï¼šæ•´åˆå¤šä¸ªè´¢ç»æ•°æ®æº
- **å®æ—¶æ¨é€ç³»ç»Ÿ**ï¼šWebSocket + SSEå¤šæ¸ é“æ¨é€

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ•´ä½“æ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ™ºè‚¡é€šç³»ç»Ÿæ¶æ„                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¨ å‰ç«¯å±‚ (Frontend)                                       â”‚
â”‚  â”œâ”€ React + TypeScript SPA                                â”‚
â”‚  â”œâ”€ Ant Design UIç»„ä»¶åº“                                   â”‚
â”‚  â”œâ”€ EChartsæ•°æ®å¯è§†åŒ–                                    â”‚
â”‚  â”œâ”€ Redux ToolkitçŠ¶æ€ç®¡ç†                                 â”‚
â”‚  â””â”€ PWAæ¸è¿›å¼Webåº”ç”¨                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŒ APIç½‘å…³å±‚ (API Gateway)                                â”‚
â”‚  â”œâ”€ Gin HTTP Router                                       â”‚
â”‚  â”œâ”€ WebSocketå®æ—¶æ¨é€                                     â”‚
â”‚  â”œâ”€ Server-Sent Events (SSE)                             â”‚
â”‚  â”œâ”€ è¯·æ±‚é™æµä¸ç†”æ–­                                         â”‚
â”‚  â””â”€ APIæ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš™ï¸ ä¸šåŠ¡æœåŠ¡å±‚ (Business Services)                          â”‚
â”‚  â”œâ”€ ç”¨æˆ·æœåŠ¡ (User Service)                               â”‚
â”‚  â”œâ”€ è‚¡ç¥¨æœåŠ¡ (Stock Service)                              â”‚
â”‚  â”œâ”€ æ–°é—»æœåŠ¡ (News Service)                               â”‚
â”‚  â”œâ”€ åˆ†ææœåŠ¡ (Analysis Service)                           â”‚
â”‚  â”œâ”€ ç»„åˆæœåŠ¡ (Portfolio Service)                          â”‚
â”‚  â””â”€ æ¨é€æœåŠ¡ (Push Service)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¤– AIåˆ†æå±‚ (AI Analysis Layer)                           â”‚
â”‚  â”œâ”€ æŠ€æœ¯é¢åˆ†æå¸ˆ (Technical Analyst)                       â”‚
â”‚  â”œâ”€ åŸºæœ¬é¢åˆ†æå¸ˆ (Fundamental Analyst)                     â”‚
â”‚  â”œâ”€ æ¶ˆæ¯é¢åˆ†æå¸ˆ (News Sentiment Analyst)                 â”‚
â”‚  â”œâ”€ é£æ§åˆ†æå¸ˆ (Risk Analyst)                              â”‚
â”‚  â””â”€ ç»¼åˆåˆ†æå¼•æ“ (Synthesis Engine)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š æ•°æ®å¤„ç†å±‚ (Data Processing Layer)                      â”‚
â”‚  â”œâ”€ æ•°æ®é‡‡é›†å¼•æ“ (Data Collection Engine)                  â”‚
â”‚  â”œâ”€ æ¸…æ´—å¤„ç†å¼•æ“ (Data Cleaning Engine)                   â”‚
â”‚  â”œâ”€ æŒ‡æ ‡è®¡ç®—å¼•æ“ (Indicator Calculation Engine)            â”‚
â”‚  â”œâ”€ æ–°é—»èšåˆå¼•æ“ (News Aggregation Engine)                 â”‚
â”‚  â””â”€ ç¼“å­˜ç®¡ç†å¼•æ“ (Cache Management Engine)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¾ æ•°æ®å­˜å‚¨å±‚ (Data Storage Layer)                         â”‚
â”‚  â”œâ”€ SQLiteä¸»æ•°æ®åº“ (Pure Go Driver)                       â”‚
â”‚  â”œâ”€ Redisç¼“å­˜é›†ç¾¤ (Hot Data Cache)                        â”‚
â”‚  â”œâ”€ æœ¬åœ°æ–‡ä»¶å­˜å‚¨ (Local File Storage)                     â”‚
â”‚  â””â”€ é…ç½®ç®¡ç† (Configuration Management)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆé€‰æ‹©

#### åç«¯æŠ€æœ¯æ ˆ
```go
// æ ¸å¿ƒæ¡†æ¶ä¸åº“
import (
    "github.com/wailsapp/wails/v2"          // æ¡Œé¢åº”ç”¨æ¡†æ¶
    "github.com/gin-gonic/gin"              // HTTP Webæ¡†æ¶
    "github.com/go-redis/redis/v8"          // Rediså®¢æˆ·ç«¯
    "modernc.org/sqlite"                    // çº¯Go SQLiteé©±åŠ¨
    "github.com/gorilla/websocket"          // WebSocketå®ç°
    "github.com/robfig/cron/v3"             // å®šæ—¶ä»»åŠ¡è°ƒåº¦
)
```

#### å‰ç«¯æŠ€æœ¯æ ˆ
```typescript
// Reactç”Ÿæ€ç³»ç»Ÿ
import {
    React,                                   // æ ¸å¿ƒæ¡†æ¶
    ReduxToolkit,                            // çŠ¶æ€ç®¡ç†
    AntDesign,                              // UIç»„ä»¶åº“
    ECharts,                                // å›¾è¡¨åº“
    ReactRouter,                             // è·¯ç”±ç®¡ç†
    Axios,                                   // HTTPå®¢æˆ·ç«¯
    SocketIO                                 // WebSocketå®¢æˆ·ç«¯
} from 'modern-web-stack';
```

#### AIæŠ€æœ¯æ ˆ
```python
# Python AIæœåŠ¡
import {
    TensorFlow,                              # æ·±åº¦å­¦ä¹ æ¡†æ¶
    ScikitLearn,                            # æœºå™¨å­¦ä¹ åº“
    NLTK,                                   # è‡ªç„¶è¯­è¨€å¤„ç†
    Pandas,                                 # æ•°æ®åˆ†æ
    NumPy,                                  # æ•°å€¼è®¡ç®—
    Jieba,                                  # ä¸­æ–‡åˆ†è¯
    Flask                                   # Webæ¡†æ¶
} from 'ai-ecosystem';
```

## ğŸ”„ æ•°æ®æµè®¾è®¡

### æ•°æ®é‡‡é›†æµç¨‹
```
æ•°æ®æºé‡‡é›† â†’ æ•°æ®æ¸…æ´— â†’ æŒ‡æ ‡è®¡ç®— â†’ å­˜å‚¨å…¥åº“ â†’ ç¼“å­˜æ›´æ–° â†’ æ¨é€å‰ç«¯
```

#### è¯¦ç»†æ•°æ®æµç¨‹å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ•°æ®é‡‡é›†æµç¨‹                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ“¡ æ•°æ®æº                                                 â”‚
â”‚  â”œâ”€ ä¸œæ–¹è´¢å¯Œ API ğŸŒ                                        â”‚
â”‚  â”œâ”€ åŒèŠ±é¡ºæ•°æ® ğŸŒ                                          â”‚
â”‚  â”œâ”€ æ–°æµªè´¢ç» ğŸŒ                                             â”‚
â”‚  â”œâ”€ è…¾è®¯è¯åˆ¸ ğŸŒ                                             â”‚
â”‚  â””â”€ é›ªçƒç¤¾åŒº ğŸŒ                                             â”‚
â”‚                                                             â”‚
â”‚  â¬‡ï¸ æ•°æ®é‡‡é›†                                                â”‚
â”‚                                                             â”‚
â”‚  ğŸ”„ æ•°æ®å¤„ç†å¼•æ“                                            â”‚
â”‚  â”œâ”€ æ•°æ®æ¸…æ´— (å»é‡ã€æ ¼å¼åŒ–ã€éªŒè¯)                             â”‚
â”‚  â”œâ”€ æ•°æ®æ ‡å‡†åŒ– (ç»Ÿä¸€æ ¼å¼ã€å•ä½è½¬æ¢)                           â”‚
â”‚  â”œâ”€ æ•°æ®å…³è” (è‚¡ç¥¨ä»£ç æ˜ å°„ã€è¡Œä¸šåˆ†ç±»)                         â”‚
â”‚  â””â”€ æ•°æ®è´¨é‡æ£€æµ‹ (å®Œæ•´æ€§ã€å‡†ç¡®æ€§ã€æ—¶æ•ˆæ€§)                     â”‚
â”‚                                                             â”‚
â”‚  â¬‡ï¸ æ•°æ®è®¡ç®—                                                â”‚
â”‚                                                             â”‚
â”‚  ğŸ“Š æŠ€æœ¯æŒ‡æ ‡è®¡ç®—                                             â”‚
â”‚  â”œâ”€ è¶‹åŠ¿æŒ‡æ ‡ï¼šMA, EMA, MACD, DMI, SAR                       â”‚
â”‚  â”œâ”€ æ‘†åŠ¨æŒ‡æ ‡ï¼šRSI, KDJ, CCI, WR, BIAS                       â”‚
â”‚  â”œâ”€ é‡ä»·æŒ‡æ ‡ï¼šVOL, OBV, EMV, VRSI, VR                       â”‚
â”‚  â”œâ”€ å‹åŠ›æŒ‡æ ‡ï¼šBOLL, ENV, MIKE                                â”‚
â”‚  â””â”€ èƒ½é‡æŒ‡æ ‡ï¼šAR, BR, PSY, VR                               â”‚
â”‚                                                             â”‚
â”‚  â¬‡ï¸ æ•°æ®å­˜å‚¨                                                â”‚
â”‚                                                             â”‚
â”‚  ğŸ’¾ æ•°æ®å­˜å‚¨å±‚                                              â”‚
â”‚  â”œâ”€ SQLite (ä¸»æ•°æ®åº“)                                        â”‚
â”‚  â”‚   â”œâ”€ stock_basic (è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯)                          â”‚
â”‚  â”‚   â”œâ”€ stock_daily (æ—¥çº¿è¡Œæƒ…)                              â”‚
â”‚  â”‚   â”œâ”€ technical_signals (æŠ€æœ¯ä¿¡å·)                         â”‚
â”‚  â”‚   â”œâ”€ news_data (æ–°é—»æ•°æ®)                                â”‚
â”‚  â”‚   â””â”€ user_portfolio (ç”¨æˆ·ç»„åˆ)                           â”‚
â”‚  â”œâ”€ Redis (ç¼“å­˜å±‚)                                          â”‚
â”‚  â”‚   â”œâ”€ å®æ—¶è¡Œæƒ…ç¼“å­˜ (TTL: 3ç§’)                             â”‚
â”‚  â”‚   â”œâ”€ æŠ€æœ¯æŒ‡æ ‡ç¼“å­˜ (TTL: 5åˆ†é’Ÿ)                           â”‚
â”‚  â”‚   â”œâ”€ æ–°é—»çƒ­ç‚¹ç¼“å­˜ (TTL: 10åˆ†é’Ÿ)                          â”‚
â”‚  â”‚   â””â”€ ç”¨æˆ·ä¼šè¯ç¼“å­˜ (TTL: 24å°æ—¶)                          â”‚
â”‚  â””â”€ æœ¬åœ°æ–‡ä»¶ (å†å²æ•°æ®ã€æ—¥å¿—æ–‡ä»¶)                             â”‚
â”‚                                                             â”‚
â”‚  â¬‡ï¸ æ•°æ®æ¨é€                                                â”‚
â”‚                                                             â”‚
â”‚  ğŸ“¡ å®æ—¶æ¨é€ç³»ç»Ÿ                                            â”‚
â”‚  â”œâ”€ WebSocketæ¨é€ (ä»·æ ¼å˜åŠ¨ã€ä¿¡å·è§¦å‘)                       â”‚
â”‚  â”œâ”€ SSEæ¨é€ (æ–°é—»æ›´æ–°ã€å…¬å‘Šå‘å¸ƒ)                            â”‚
â”‚  â”œâ”€ ç§»åŠ¨æ¨é€ (é‡è¦æé†’ã€é£é™©é¢„è­¦)                           â”‚
â”‚  â””â”€ é‚®ä»¶æ¨é€ (å®šæœŸæŠ¥å‘Šã€æ€»ç»“åˆ†æ)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### AIåˆ†ææ•°æ®æµ
```
ç”¨æˆ·è¯·æ±‚ â†’ æ•°æ®è·å– â†’ AIæ¨¡å‹æ¨ç† â†’ ç»“æœæ•´åˆ â†’ ç¼“å­˜å­˜å‚¨ â†’ è¿”å›ç”¨æˆ·
```

#### AIåˆ†ææµç¨‹
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AIåˆ†ææµç¨‹                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ‘¤ ç”¨æˆ·è¯·æ±‚                                                â”‚
â”‚  â”œâ”€ åˆ†æè‚¡ç¥¨ä»£ç ï¼š600519                                    â”‚
â”‚  â”œâ”€ åˆ†æç±»å‹ï¼šæŠ€æœ¯é¢åˆ†æ                                    â”‚
â”‚  â”œâ”€ æ—¶é—´èŒƒå›´ï¼šæœ€è¿‘30å¤©                                      â”‚
â”‚  â””â”€ åˆ†ææ·±åº¦ï¼šè¯¦ç»†æŠ¥å‘Š                                      â”‚
â”‚                                                             â”‚
â”‚  â¬‡ï¸ æ•°æ®å‡†å¤‡                                                â”‚
â”‚                                                             â”‚
â”‚  ğŸ“Š æ•°æ®æ”¶é›†                                                â”‚
â”‚  â”œâ”€ åŸºç¡€è¡Œæƒ…æ•°æ® (OHLCV)                                    â”‚
â”‚  â”œâ”€ æŠ€æœ¯æŒ‡æ ‡æ•°æ® (30+æŒ‡æ ‡)                                  â”‚
â”‚  â”œâ”€ æ–°é—»æƒ…æ„Ÿæ•°æ® (ç›¸å…³æ–°é—»)                                 â”‚
â”‚  â”œâ”€ è´¢åŠ¡åŸºæœ¬é¢æ•°æ® (æœ€æ–°è´¢æŠ¥)                               â”‚
â”‚  â””â”€ å®è§‚ç»æµæ•°æ® (å¸‚åœºç¯å¢ƒ)                                 â”‚
â”‚                                                             â”‚
â”‚  â¬‡ï¸ AIæ¨¡å‹æ¨ç†                                              â”‚
â”‚                                                             â”‚
â”‚  ğŸ¤– å¤šè§’è‰²AIåˆ†æ                                            â”‚
â”‚  â”œâ”€ æŠ€æœ¯é¢åˆ†æå¸ˆ                                             â”‚
â”‚  â”‚   â”œâ”€ LSTMè¶‹åŠ¿é¢„æµ‹æ¨¡å‹                                   â”‚
â”‚  â”‚   â”œâ”€ æŠ€æœ¯å½¢æ€è¯†åˆ«æ¨¡å‹                                   â”‚
â”‚  â”‚   â””â”€ ä¿¡å·å¼ºåº¦è¯„ä¼°æ¨¡å‹                                   â”‚
â”‚  â”œâ”€ åŸºæœ¬é¢åˆ†æå¸ˆ                                             â”‚
â”‚  â”‚   â”œâ”€ è´¢åŠ¡å¥åº·åº¦è¯„ä¼°æ¨¡å‹                                 â”‚
â”‚  â”‚   â”œâ”€ ä¼°å€¼åˆç†æ€§åˆ†ææ¨¡å‹                                 â”‚
â”‚  â”‚   â””â”€ è¡Œä¸šç«äº‰åŠ›åˆ†ææ¨¡å‹                                 â”‚
â”‚  â”œâ”€ æ¶ˆæ¯é¢åˆ†æå¸ˆ                                             â”‚
â”‚  â”‚   â”œâ”€ æ–°é—»æƒ…æ„Ÿåˆ†ææ¨¡å‹ (BERT)                            â”‚
â”‚  â”‚   â”œâ”€ æ¶ˆæ¯å½±å“è¯„ä¼°æ¨¡å‹                                   â”‚
â”‚  â”‚   â””â”€ èˆ†æƒ…ç›‘æ§é¢„è­¦æ¨¡å‹                                   â”‚
â”‚  â””â”€ ç»¼åˆåˆ†æå¼•æ“                                             â”‚
â”‚      â”œâ”€ å¤šç»´åº¦æ•°æ®èåˆ                                      â”‚
â”‚      â”œâ”€ æƒé‡åŠ¨æ€è°ƒæ•´                                        â”‚
â”‚      â””â”€ ç½®ä¿¡åº¦è®¡ç®—æ¨¡å‹                                      â”‚
â”‚                                                             â”‚
â”‚  â¬‡ï¸ ç»“æœæ•´åˆ                                                â”‚
â”‚                                                             â”‚
â”‚  ğŸ“‹ åˆ†ææŠ¥å‘Š                                                â”‚
â”‚  â”œâ”€ ç»¼åˆè¯„åˆ† (0-10åˆ†)                                       â”‚
â”‚  â”œâ”€ è¶‹åŠ¿åˆ¤æ–­ (ä¸Šå‡/éœ‡è¡/ä¸‹è·Œ)                               â”‚
â”‚  â”œâ”€ æ“ä½œå»ºè®® (ä¹°å…¥/æŒæœ‰/å–å‡º)                               â”‚
â”‚  â”œâ”€ é£é™©æç¤º (é«˜/ä¸­/ä½)                                    â”‚
â”‚  â”œâ”€ å…³é”®ç‚¹ä½ (æ”¯æ’‘/å‹åŠ›)                                    â”‚
â”‚  â””â”€ æ—¶é—´çª—å£ (çŸ­æœŸ/ä¸­æœŸ/é•¿æœŸ)                               â”‚
â”‚                                                             â”‚
â”‚  â¬‡ï¸ ç¼“å­˜å­˜å‚¨                                                â”‚
â”‚                                                             â”‚
â”‚  ğŸ’¾ ç¼“å­˜ç­–ç•¥                                                â”‚
â”‚  â”œâ”€ AIåˆ†æç»“æœç¼“å­˜ (TTL: 30åˆ†é’Ÿ)                            â”‚
â”‚  â”œâ”€ ç”¨æˆ·åå¥½å­¦ä¹  (TTL: 24å°æ—¶)                             â”‚
â”‚  â”œâ”€ æ¨¡å‹å‚æ•°ç¼“å­˜ (TTL: 1å°æ—¶)                              â”‚
â”‚  â””â”€ å†å²åˆ†æè®°å½• (æ°¸ä¹…å­˜å‚¨)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ æ ¸å¿ƒæ¨¡å—

### 1. æ•°æ®é‡‡é›†å¼•æ“

#### å¤šæºæ•°æ®é‡‡é›†å™¨
```go
type DataCollector interface {
    // é‡‡é›†è‚¡ç¥¨åŸºç¡€æ•°æ®
    CollectStockBasic() ([]*models.StockBasic, error)
    // é‡‡é›†å®æ—¶è¡Œæƒ…æ•°æ®
    CollectRealtimeQuote(codes []string) ([]*models.Quote, error)
    // é‡‡é›†å†å²Kçº¿æ•°æ®
    CollectHistoricalData(code string, period string) ([]*models.KLine, error)
    // é‡‡é›†æ–°é—»æ•°æ®
    CollectNews(categories []string) ([]*models.News, error)
}

// ä¸œæ–¹è´¢å¯Œæ•°æ®é‡‡é›†å™¨
type EastMoneyCollector struct {
    client *http.Client
    parser *DataParser
    cache  *CacheService
}

// åŒèŠ±é¡ºæ•°æ®é‡‡é›†å™¨
type TongHuaShunCollector struct {
    client *http.Client
    apiKeys map[string]string
    limiter *RateLimiter
}
```

#### æ•°æ®æ¸…æ´—å¤„ç†
```go
type DataProcessor interface {
    // æ•°æ®å»é‡
    Deduplicate(data interface{}) interface{}
    // æ•°æ®æ ‡å‡†åŒ–
    Normalize(data interface{}) interface{}
    // æ•°æ®éªŒè¯
    Validate(data interface{}) error
    // æ•°æ®è¡¥å…¨
    Complete(data interface{}) interface{}
}

// è‚¡ç¥¨æ•°æ®å¤„ç†å™¨
type StockDataProcessor struct {
    validators map[string]Validator
    normalizers map[string]Normalizer
    deduplicator *Deduplicator
}
```

### 2. æŠ€æœ¯æŒ‡æ ‡è®¡ç®—å¼•æ“

#### æŒ‡æ ‡è®¡ç®—æ¡†æ¶
```go
type IndicatorCalculator interface {
    // è®¡ç®—ç§»åŠ¨å¹³å‡çº¿
    CalculateMA(prices []float64, period int) []float64
    // è®¡ç®—MACD
    CalculateMACD(prices []float64, fast, slow, signal int) (*MACDResult, error)
    // è®¡ç®—RSI
    CalculateRSI(prices []float64, period int) []float64
    // è®¡ç®—KDJ
    CalculateKDJ(high, low, close []float64, period int) (*KDJResult, error)
}

// æŠ€æœ¯æŒ‡æ ‡è®¡ç®—å™¨
type TechnicalIndicatorCalculator struct {
    cache *CacheService
    validators map[string]IndicatorValidator
}
```

#### ä¿¡å·ç”Ÿæˆå™¨
```go
type SignalGenerator interface {
    // ç”Ÿæˆä¹°å–ä¿¡å·
    GenerateSignals(indicators map[string]interface{}) ([]*Signal, error)
    // è®¡ç®—ä¿¡å·å¼ºåº¦
    CalculateStrength(signals []*Signal) *SignalStrength
    // ç”Ÿæˆä¿¡å·æŠ¥å‘Š
    GenerateReport(signals []*Signal) *SignalReport
}

// ä¿¡å·ç”Ÿæˆå™¨å®ç°
type TechnicalSignalGenerator struct {
    rules map[string]SignalRule
    weights map[string]float64
    calculator IndicatorCalculator
}
```

### 3. AIåˆ†æå¼•æ“

#### å¤šè§’è‰²AIç³»ç»Ÿ
```go
// AIåˆ†æå¸ˆæ¥å£
type AIAnalyst interface {
    Analyze(ctx context.Context, req *AnalysisRequest) (*AnalysisResult, error)
    GetName() string
    GetCapabilities() []string
}

// æŠ€æœ¯é¢åˆ†æå¸ˆ
type TechnicalAnalyst struct {
    model *tensorflow.SavedModel
    preprocessor *DataPreprocessor
    postprocessor *ResultPostprocessor
}

func (ta *TechnicalAnalyst) Analyze(ctx context.Context, req *AnalysisRequest) (*AnalysisResult, error) {
    // 1. æ•°æ®é¢„å¤„ç†
    data := ta.preprocessor.Process(req.Data)

    // 2. æ¨¡å‹æ¨ç†
    predictions, err := ta.model.Predict(ctx, data)
    if err != nil {
        return nil, err
    }

    // 3. ç»“æœåå¤„ç†
    result := ta.postprocessor.Process(predictions)

    return result, nil
}
```

#### ç»¼åˆåˆ†æå¼•æ“
```go
type SynthesisEngine struct {
    analysts map[string]AIAnalyst
    weightCalculator *WeightCalculator
    confidenceCalculator *ConfidenceCalculator
}

func (se *SynthesisEngine) ComprehensiveAnalyze(ctx context.Context, req *ComprehensiveRequest) (*ComprehensiveResult, error) {
    results := make(map[string]*AnalysisResult)

    // å¹¶å‘è°ƒç”¨å„ä¸ªåˆ†æå¸ˆ
    var wg sync.WaitGroup
    var mu sync.Mutex

    for name, analyst := range se.analysts {
        wg.Add(1)
        go func(name string, analyst AIAnalyst) {
            defer wg.Done()

            result, err := analyst.Analyze(ctx, req.AnalysisRequest)
            if err == nil {
                mu.Lock()
                results[name] = result
                mu.Unlock()
            }
        }(name, analyst)
    }

    wg.Wait()

    // ç»¼åˆåˆ†æç»“æœ
    return se.synthesizeResults(results), nil
}
```

### 4. å®æ—¶æ¨é€ç³»ç»Ÿ

#### WebSocketæ¨é€æœåŠ¡
```go
type WebSocketPushService struct {
    hub    *WebSocketHub
    clients map[*Client]bool
    register chan *Client
    unregister chan *Client
    broadcast chan []byte
    upgrader websocket.Upgrader
}

type WebSocketHub struct {
    clients    map[*Client]bool
    broadcast  chan []byte
    register   chan *Client
    unregister chan *Client
    mutex      sync.RWMutex
}

func (h *WebSocketHub) Run() {
    for {
        select {
        case client := <-h.register:
            h.mutex.Lock()
            h.clients[client] = true
            h.mutex.Unlock()

        case client := <-h.unregister:
            h.mutex.Lock()
            if _, ok := h.clients[client]; ok {
                delete(h.clients, client)
                close(client.send)
            }
            h.mutex.Unlock()

        case message := <-h.broadcast:
            h.mutex.RLock()
            for client := range h.clients {
                select {
                case client.send <- message:
                default:
                    close(client.send)
                    delete(h.clients, client)
                }
            }
            h.mutex.RUnlock()
        }
    }
}
```

#### SSEæ¨é€æœåŠ¡
```go
type SSEPushService struct {
    clients map[string]*SSEClient
    mutex   sync.RWMutex
}

type SSEClient struct {
    ID     string
    Writer http.Flusher
    Writer http.ResponseWriter
    Events chan []byte
    Done   chan bool
}

func (sps *SSEPushService) SendEvent(clientID string, event *PushEvent) error {
    sps.mutex.RLock()
    client, exists := sps.clients[clientID]
    sps.mutex.RUnlock()

    if !exists {
        return fmt.Errorf("client not found: %s", clientID)
    }

    data, err := json.Marshal(event)
    if err != nil {
        return err
    }

    select {
    case client.Events <- data:
        return nil
    case <-time.After(5 * time.Second):
        return fmt.Errorf("send timeout")
    }
}
```

## âš¡ æ€§èƒ½ä¼˜åŒ–

### 1. æ•°æ®åº“ä¼˜åŒ–

#### SQLiteæ€§èƒ½ä¼˜åŒ–
```go
type DatabaseOptimizer struct {
    db *sql.DB
    connectionPool *ConnectionPool
    queryOptimizer *QueryOptimizer
}

// è¿æ¥æ± é…ç½®
func (do *DatabaseOptimizer) configureConnectionPool() {
    do.db.SetMaxOpenConns(25)        // æœ€å¤§è¿æ¥æ•°
    do.db.SetMaxIdleConns(10)        // æœ€å¤§ç©ºé—²è¿æ¥æ•°
    do.db.SetConnMaxLifetime(300 * time.Second)  // è¿æ¥æœ€å¤§ç”Ÿå­˜æ—¶é—´
    do.db.SetConnMaxIdleTime(60 * time.Second)    // è¿æ¥æœ€å¤§ç©ºé—²æ—¶é—´
}

// æ‰¹é‡æ“ä½œä¼˜åŒ–
func (do *DatabaseOptimizer) BatchInsert(table string, data []interface{}) error {
    batchSize := 1000
    for i := 0; i < len(data); i += batchSize {
        end := i + batchSize
        if end > len(data) {
            end = len(data)
        }

        batch := data[i:end]
        if err := do.insertBatch(table, batch); err != nil {
            return err
        }
    }
    return nil
}

// ç´¢å¼•ä¼˜åŒ–
func (do *DatabaseOptimizer) CreateIndexes() error {
    indexes := []string{
        "CREATE INDEX IF NOT EXISTS idx_stock_daily_code_date ON stock_daily(code, date)",
        "CREATE INDEX IF NOT EXISTS idx_technical_signals_code_time ON technical_signals(code, created_at)",
        "CREATE INDEX IF NOT EXISTS idx_news_published_date ON news_data(published_date)",
        "CREATE INDEX IF NOT EXISTS idx_portfolio_user_id ON user_portfolio(user_id)",
    }

    for _, index := range indexes {
        if _, err := do.db.Exec(index); err != nil {
            return err
        }
    }
    return nil
}
```

#### ç¼“å­˜ç­–ç•¥ä¼˜åŒ–
```go
type CacheManager struct {
    redis    *redis.Client
    localCache *sync.Map
    policies map[string]*CachePolicy
}

type CachePolicy struct {
    TTL         time.Duration
    MaxSize     int
    EvictionPolicy string  // LRU, LFU, FIFO
    RefreshStrategy string // Lazy, Eager, Scheduled
}

// å¤šçº§ç¼“å­˜ç­–ç•¥
func (cm *CacheManager) Get(key string) (interface{}, error) {
    // 1. æ£€æŸ¥æœ¬åœ°ç¼“å­˜
    if value, ok := cm.localCache.Load(key); ok {
        return value, nil
    }

    // 2. æ£€æŸ¥Redisç¼“å­˜
    value, err := cm.redis.Get(context.Background(), key).Result()
    if err == nil {
        // å›å†™æœ¬åœ°ç¼“å­˜
        cm.localCache.Store(key, value)
        return value, nil
    }

    // 3. ç¼“å­˜æœªå‘½ä¸­ï¼Œè¿”å›é”™è¯¯
    return nil, fmt.Errorf("cache miss")
}

// ç¼“å­˜é¢„çƒ­ç­–ç•¥
func (cm *CacheManager) WarmUp() error {
    // é¢„åŠ è½½çƒ­é—¨è‚¡ç¥¨æ•°æ®
    hotStocks := []string{"000001", "000002", "600000", "600036"}
    for _, code := range hotStocks {
        if err := cm.preloadStockData(code); err != nil {
            log.Printf("é¢„çƒ­è‚¡ç¥¨æ•°æ®å¤±è´¥ %s: %v", code, err)
        }
    }

    // é¢„åŠ è½½æŠ€æœ¯æŒ‡æ ‡
    return cm.preloadTechnicalIndicators()
}
```

### 2. å†…å­˜ç®¡ç†ä¼˜åŒ–

#### å†…å­˜æ± ç®¡ç†
```go
type MemoryPool struct {
    objectPools map[reflect.Type]*sync.Pool
    stats       *MemoryStats
    gcTrigger   *GCTrigger
}

func (mp *MemoryPool) Get(objType reflect.Type) interface{} {
    pool, exists := mp.objectPools[objType]
    if !exists {
        pool = &sync.Pool{
            New: func() interface{} {
                return reflect.New(objType).Interface()
            },
        }
        mp.objectPools[objType] = pool
    }

    obj := pool.Get()
    mp.stats.Allocations++
    return obj
}

func (mp *MemoryPool) Put(obj interface{}) {
    objType := reflect.TypeOf(obj).Elem()
    if pool, exists := mp.objectPools[objType]; exists {
        pool.Put(obj)
        mp.stats.Deallocations++
    }
}
```

#### åƒåœ¾å›æ”¶ä¼˜åŒ–
```go
type GCOptimizer struct {
    stats      *runtime.MemStats
    lastGC     time.Time
    gcInterval time.Duration
    memoryLimit uint64
}

func (gco *GCOptimizer) OptimizeGC() {
    runtime.ReadMemStats(&gco.stats)

    // æ£€æŸ¥å†…å­˜ä½¿ç”¨æƒ…å†µ
    if gco.stats.Alloc > gco.memoryLimit {
        log.Printf("å†…å­˜ä½¿ç”¨è¶…é™ï¼Œè§¦å‘GC: %d bytes", gco.stats.Alloc)
        runtime.GC()
        return
    }

    // å®šæœŸGC
    if time.Since(gco.lastGC) > gco.gcInterval {
        runtime.GC()
        gco.lastGC = time.Now()
    }
}
```

### 3. å¹¶å‘ä¼˜åŒ–

#### åç¨‹æ± ç®¡ç†
```go
type WorkerPool struct {
    workers    int
    jobQueue   chan Job
    workerPool chan chan Job
    quit       chan bool
    wg         sync.WaitGroup
}

type Job struct {
    ID       string
    Function func() interface{}
    Result   chan interface{}
    Error    chan error
}

func NewWorkerPool(workers int) *WorkerPool {
    return &WorkerPool{
        workers:    workers,
        jobQueue:   make(chan Job, 1000),
        workerPool: make(chan chan Job, workers),
        quit:       make(chan bool),
    }
}

func (wp *WorkerPool) Start() {
    for i := 0; i < wp.workers; i++ {
        worker := NewWorker(wp.workerPool)
        worker.Start()
    }

    go wp.dispatch()
}

func (wp *WorkerPool) dispatch() {
    for {
        select {
        case job := <-wp.jobQueue:
            go func() {
                jobChannel := <-wp.workerPool
                jobChannel <- job
            }()
        case <-wp.quit:
            return
        }
    }
}
```

## ğŸ”’ å®‰å…¨è®¾è®¡

### 1. æ•°æ®å®‰å…¨

#### åŠ å¯†å­˜å‚¨
```go
type SecurityManager struct {
    cipher    cipher.AEAD
    keyManager *KeyManager
}

func (sm *SecurityManager) EncryptData(data []byte) ([]byte, error) {
    nonce := make([]byte, sm.cipher.NonceSize())
    if _, err := io.ReadFull(rand.Reader, nonce); err != nil {
        return nil, err
    }

    ciphertext := sm.cipher.Seal(nonce, nonce, data, nil)
    return ciphertext, nil
}

func (sm *SecurityManager) DecryptData(ciphertext []byte) ([]byte, error) {
    nonceSize := sm.cipher.NonceSize()
    if len(ciphertext) < nonceSize {
        return nil, fmt.Errorf("ciphertext too short")
    }

    nonce, ciphertext := ciphertext[:nonceSize], ciphertext[nonceSize:]
    return sm.cipher.Open(nil, nonce, ciphertext, nil)
}
```

#### è®¿é—®æ§åˆ¶
```go
type AccessController struct {
    roles      map[string]*Role
    permissions map[string]*Permission
    sessions   map[string]*Session
    mutex      sync.RWMutex
}

type Role struct {
    Name         string
    Permissions  []string
    DataScope    string
    TimeRestrictions []TimeRange
}

func (ac *AccessController) CheckPermission(userID, resource, action string) bool {
    ac.mutex.RLock()
    defer ac.mutex.RUnlock()

    session, exists := ac.sessions[userID]
    if !exists {
        return false
    }

    role := ac.roles[session.Role]
    if role == nil {
        return false
    }

    // æ£€æŸ¥æƒé™
    requiredPermission := fmt.Sprintf("%s:%s", resource, action)
    for _, permission := range role.Permissions {
        if permission == requiredPermission {
            return true
        }
    }

    return false
}
```

### 2. ç½‘ç»œå®‰å…¨

#### APIå®‰å…¨
```go
type APISecurityMiddleware struct {
    rateLimiter *RateLimiter
    validator   *RequestValidator
    logger      *log.Logger
}

func (asm *APISecurityMiddleware) RateLimit() gin.HandlerFunc {
    return func(c *gin.Context) {
        clientIP := c.ClientIP()

        if !asm.rateLimiter.Allow(clientIP) {
            asm.logger.Printf("Rate limit exceeded for IP: %s", clientIP)
            c.JSON(429, gin.H{"error": "Too many requests"})
            c.Abort()
            return
        }

        c.Next()
    }
}

func (asm *APISecurityMiddleware) ValidateRequest() gin.HandlerFunc {
    return func(c *gin.Context) {
        // éªŒè¯è¯·æ±‚å¤´
        if err := asm.validator.ValidateHeaders(c.Request.Header); err != nil {
            c.JSON(400, gin.H{"error": "Invalid headers"})
            c.Abort()
            return
        }

        // éªŒè¯è¯·æ±‚ä½“
        if err := asm.validator.ValidateBody(c.Request); err != nil {
            c.JSON(400, gin.H{"error": "Invalid request body"})
            c.Abort()
            return
        }

        c.Next()
    }
}
```

## ğŸš€ éƒ¨ç½²æ¶æ„

### 1. åº”ç”¨éƒ¨ç½²

#### Wailsåº”ç”¨æ‰“åŒ…
```json
{
  "name": "smart-stock-insider",
  "author": "Smart Stock Team",
  "description": "æ™ºèƒ½æŠ•ç ”å¹³å°",
  "version": "1.0.0",
  "frontend": {
    "dir": "./frontend/build",
    "install": "npm install && npm run build"
  },
  "backend": {
    "go": "1.21+",
    "build": "go build -o smart-stock-insider.exe"
  },
  "build": {
    "dir": "./build",
    "name": "æ™ºè‚¡é€š",
    "icon": "./assets/icon.ico"
  },
  "nsis": {
    "license": "./LICENSE",
    "oneclick": false,
    "allowToChangeInstallationDirectory": true
  }
}
```

#### è‡ªåŠ¨åŒ–æ„å»ºè„šæœ¬
```bash
#!/bin/bash
# build.sh - è‡ªåŠ¨åŒ–æ„å»ºè„šæœ¬

set -e

echo "å¼€å§‹æ„å»ºæ™ºè‚¡é€šåº”ç”¨..."

# 1. æ£€æŸ¥ç¯å¢ƒ
echo "æ£€æŸ¥æ„å»ºç¯å¢ƒ..."
check_dependencies() {
    command -v go >/dev/null 2>&1 || { echo "éœ€è¦å®‰è£…Go"; exit 1; }
    command -v node >/dev/null 2>&1 || { echo "éœ€è¦å®‰è£…Node.js"; exit 1; }
    command -v wails >/dev/null 2>&1 || { echo "éœ€è¦å®‰è£…Wails CLI"; exit 1; }
}

# 2. æ„å»ºå‰ç«¯
echo "æ„å»ºå‰ç«¯åº”ç”¨..."
build_frontend() {
    cd frontend
    npm install
    npm run build
    cd ..
}

# 3. æ„å»ºåç«¯
echo "æ„å»ºåç«¯åº”ç”¨..."
build_backend() {
    go mod tidy
    go mod download
}

# 4. æ‰“åŒ…åº”ç”¨
echo "æ‰“åŒ…Wailsåº”ç”¨..."
package_app() {
    wails build -clean -upx
}

# 5. ç”Ÿæˆå®‰è£…åŒ…
echo "ç”Ÿæˆå®‰è£…åŒ…..."
create_installer() {
    wails build -nsis
}

# æ‰§è¡Œæ„å»ºæµç¨‹
check_dependencies
build_frontend
build_backend
package_app
create_installer

echo "æ„å»ºå®Œæˆï¼"
echo "å®‰è£…åŒ…ä½ç½®: ./build/bin/æ™ºè‚¡é€š-1.0.0-amd64-installer.exe"
```

### 2. æ•°æ®éƒ¨ç½²

#### æ•°æ®åº“åˆå§‹åŒ–
```go
type DatabaseInitializer struct {
    db        *sql.DB
    logger    *log.Logger
    migrations []Migration
}

func (di *DatabaseInitializer) Initialize() error {
    di.logger.Println("å¼€å§‹åˆå§‹åŒ–æ•°æ®åº“...")

    // 1. åˆ›å»ºåŸºç¡€è¡¨ç»“æ„
    if err := di.createTables(); err != nil {
        return fmt.Errorf("åˆ›å»ºè¡¨å¤±è´¥: %v", err)
    }

    // 2. åˆ›å»ºç´¢å¼•
    if err := di.createIndexes(); err != nil {
        return fmt.Errorf("åˆ›å»ºç´¢å¼•å¤±è´¥: %v", err)
    }

    // 3. åˆå§‹åŒ–åŸºç¡€æ•°æ®
    if err := di.initBaseData(); err != nil {
        return fmt.Errorf("åˆå§‹åŒ–åŸºç¡€æ•°æ®å¤±è´¥: %v", err)
    }

    // 4. è¿è¡Œæ•°æ®è¿ç§»
    if err := di.runMigrations(); err != nil {
        return fmt.Errorf("æ•°æ®è¿ç§»å¤±è´¥: %v", err)
    }

    di.logger.Println("æ•°æ®åº“åˆå§‹åŒ–å®Œæˆ")
    return nil
}
```

## ğŸ“Š ç›‘æ§ä½“ç³»

### 1. æ€§èƒ½ç›‘æ§

#### åº”ç”¨æ€§èƒ½ç›‘æ§
```go
type PerformanceMonitor struct {
    metrics    *MetricsCollector
    profiler   *Profiler
    alerting   *AlertingSystem
}

type MetricsCollector struct {
    requestCount    prometheus.Counter
    requestDuration prometheus.Histogram
    errorCount      prometheus.Counter
    memoryUsage     prometheus.Gauge
    cpuUsage        prometheus.Gauge
}

func (mc *MetricsCollector) RecordRequest(duration time.Duration, method, path string, statusCode int) {
    mc.requestCount.Inc()
    mc.requestDuration.Observe(duration.Seconds())

    if statusCode >= 400 {
        mc.errorCount.Inc()
    }
}
```

#### ç³»ç»Ÿå¥åº·æ£€æŸ¥
```go
type HealthChecker struct {
    checks map[string]HealthCheck
    status *HealthStatus
}

type HealthCheck interface {
    Name() string
    Check() error
    Timeout() time.Duration
}

type DatabaseHealthCheck struct {
    db *sql.DB
}

func (dhc *DatabaseHealthCheck) Check() error {
    ctx, cancel := context.WithTimeout(context.Background(), 5*time.Second)
    defer cancel()

    return dhc.db.PingContext(ctx)
}

func (dhc *DatabaseHealthCheck) Name() string {
    return "database"
}

func (dhc *DatabaseHealthCheck) Timeout() time.Duration {
    return 5 * time.Second
}
```

### 2. ä¸šåŠ¡ç›‘æ§

#### ä¸šåŠ¡æŒ‡æ ‡ç›‘æ§
```go
type BusinessMonitor struct {
    userMetrics    *UserMetrics
    tradingMetrics *TradingMetrics
    aiMetrics      *AIMetrics
}

type UserMetrics struct {
    activeUsers     int
    newUsers        int
    userRetention   float64
    sessionDuration time.Duration
}

type TradingMetrics struct {
    tradingVolume    float64
    portfolioCount   int
    signalAccuracy   float64
    userSatisfaction float64
}

type AIMetrics struct {
    analysisCount    int
    responseTime     time.Duration
    modelAccuracy    float64
    userFeedback     float64
}
```

---

## ğŸ“ æ€»ç»“

æ™ºè‚¡é€šæŠ€æœ¯æ¶æ„é‡‡ç”¨äº†ç°ä»£åŒ–çš„å¾®æœåŠ¡è®¾è®¡ï¼Œå…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼š

### ğŸ¯ æ¶æ„ä¼˜åŠ¿
- **é«˜æ€§èƒ½**ï¼šGoè¯­è¨€çš„é«˜å¹¶å‘ç‰¹æ€§ï¼ŒSQLiteçš„æœ¬åœ°ä¼˜åŒ–
- **é«˜å¯ç”¨**ï¼šå¤šçº§ç¼“å­˜ç­–ç•¥ï¼Œæ•…éšœè‡ªåŠ¨æ¢å¤
- **å¯æ‰©å±•**ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œæ’ä»¶å¼æ¶æ„
- **æ˜“ç»´æŠ¤**ï¼šæ¸…æ™°çš„ä»£ç ç»“æ„ï¼Œå®Œå–„çš„æ–‡æ¡£ä½“ç³»

### ğŸ”§ æŠ€æœ¯äº®ç‚¹
- **çº¯Go SQLiteé©±åŠ¨**ï¼šè·¨å¹³å°å…¼å®¹ï¼Œé›¶é…ç½®éƒ¨ç½²
- **å¤šè§’è‰²AIç³»ç»Ÿ**ï¼šæŠ€æœ¯é¢ã€åŸºæœ¬é¢ã€æ¶ˆæ¯é¢å…¨æ–¹ä½åˆ†æ
- **å®æ—¶æ¨é€ç³»ç»Ÿ**ï¼šWebSocket + SSEå¤šæ¸ é“æ¨é€
- **æ™ºèƒ½ç¼“å­˜ç­–ç•¥**ï¼šå¤šçº§ç¼“å­˜ï¼Œæ™ºèƒ½é¢„çƒ­

### ğŸ“ˆ æ€§èƒ½è¡¨ç°
- **å“åº”æ—¶é—´**ï¼š< 200ms (99%çš„è¯·æ±‚)
- **å¹¶å‘å¤„ç†**ï¼šæ”¯æŒ1000+å¹¶å‘ç”¨æˆ·
- **å†…å­˜ä½¿ç”¨**ï¼š< 200MB (æ­£å¸¸è´Ÿè½½)
- **CPUå ç”¨**ï¼š< 10% (ç©ºé—²çŠ¶æ€)

æ™ºè‚¡é€šæŠ€æœ¯æ¶æ„ä¸ºæ™ºèƒ½æŠ•ç ”å¹³å°æä¾›äº†åšå®çš„æŠ€æœ¯åŸºç¡€ï¼Œç¡®ä¿ç³»ç»Ÿçš„ç¨³å®šæ€§ã€å¯æ‰©å±•æ€§å’Œé«˜æ€§èƒ½ã€‚