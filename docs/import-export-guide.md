# 智股通数据导入导出使用指南

## 功能概述

智股通提供了完整的数据导入导出功能，支持股票基本信息、日线数据、技术信号数据的批量导入导出操作，方便用户进行数据备份、迁移和共享。

## 支持的数据格式

### 导出格式
- **CSV格式**: 适合Excel等表格软件处理
- **JSON格式**: 适合程序化处理和系统集成

### 数据类型
- **股票基本信息 (stock_basic)**: 股票代码、名称、行业、市场等基础信息
- **日线数据 (stock_daily)**: 股票的OHLCV历史数据
- **技术信号数据 (signals)**: 技术指标信号和分析结果
- **全部数据 (all)**: 导出所有类型的数据（仅导出）

## 数据导出

### 基本导出步骤

1. **访问导入导出页面**
   - 在Dashboard点击"导入导出"按钮
   - 或直接访问 `/data-import-export` 路径

2. **配置导出参数**
   - 选择数据类型
   - 选择导出格式（CSV/JSON）
   - 设置输出路径
   - 选择股票代码（可选）
   - 设置日期范围（可选）
   - 是否包含表头

3. **执行导出**
   - 点击"开始导出"按钮
   - 查看导出进度
   - 导出完成后查看结果

### 高级导出功能

#### 选择性导出
```text
股票代码输入示例：
000001,600000,000858  # 多个代码用逗号分隔
为空则导出所有股票数据
```

#### 日期范围筛选
```text
支持格式：YYYY-MM-DD
开始日期：2024-01-01
结束日期：2024-12-31
```

#### 批量导出
系统支持大量数据的批量导出，建议：
- 单次导出不超过10万条记录
- 大数据量建议按日期分批导出
- 使用JSON格式可保留更多数据精度

## 数据导入

### 准备导入文件

#### 下载模板文件
1. 点击"导入模板"按钮
2. 选择数据类型和格式
3. 下载对应模板文件
4. 按照模板格式准备数据

#### 文件格式要求
- **文件大小**: 不超过10MB
- **文件格式**: CSV或JSON
- **编码格式**: UTF-8
- **数据完整性**: 必填字段不能为空

### 导入操作步骤

1. **选择数据类型**
   - 股票基本信息
   - 日线数据
   - 技术信号数据

2. **上传文件**
   - 点击"选择文件"按钮
   - 选择准备好的数据文件
   - 系统自动验证文件格式

3. **导入配置**
   - 是否覆盖现有数据
   - 默认为追加模式（不覆盖）

4. **执行导入**
   - 点击"开始导入"按钮
   - 查看导入进度和结果
   - 处理导入错误（如有）

### 数据格式规范

#### 股票基本信息格式

**CSV格式示例：**
```csv
代码,名称,行业,市场,上市日期
000001,平安银行,银行,sh,1991-04-03
600000,浦发银行,银行,sh,1999-11-10
```

**JSON格式示例：**
```json
[
  {
    "code": "000001",
    "name": "平安银行",
    "industry": "银行",
    "market": "sh",
    "listing_date": "1991-04-03"
  },
  {
    "code": "600000",
    "name": "浦发银行",
    "industry": "银行",
    "market": "sh",
    "listing_date": "1999-11-10"
  }
]
```

#### 日线数据格式

**CSV格式示例：**
```csv
代码,日期,开盘价,最高价,最低价,收盘价,成交量,成交额
000001,2024-01-01,10.50,10.80,10.20,10.75,1000000,10750000.00
```

**JSON格式示例：**
```json
[
  {
    "code": "000001",
    "date": "2024-01-01",
    "open": 10.50,
    "high": 10.80,
    "low": 10.20,
    "close": 10.75,
    "volume": 1000000,
    "amount": 10750000.00
  }
]
```

## 导入导出结果

### 导出结果信息
- **导出时间**: 操作完成的时间
- **数据类型**: 导出的数据类型
- **记录数量**: 实际导出的记录数
- **文件大小**: 导出文件的大小
- **文件路径**: 导出文件的保存位置

### 导入结果信息
- **导入时间**: 操作完成的时间
- **总记录数**: 文件中的记录总数
- **成功数量**: 成功导入的记录数
- **失败数量**: 导入失败的记录数
- **重复数量**: 重复的记录数
- **错误详情**: 具体的错误信息

## 错误处理

### 常见导入错误

#### 1. 文件格式错误
```
错误信息：文件格式不正确
解决方案：确保使用CSV或JSON格式，编码为UTF-8
```

#### 2. 数据格式错误
```
错误信息：第15行：日期格式错误
解决方案：日期格式应为YYYY-MM-DD
```

#### 3. 缺少必填字段
```
错误信息：第23行：代码或名称为空
解决方案：检查必填字段是否完整
```

#### 4. 数据重复
```
错误信息：第45行：重复记录
解决方案：选择覆盖模式或删除重复记录
```

### 错误处理建议

1. **使用模板**: 始终使用系统提供的模板文件
2. **分批导入**: 大数据量建议分批导入
3. **预检查**: 导入前进行数据完整性检查
4. **备份**: 导入前备份现有数据
5. **试运行**: 使用试运行模式验证数据

## 最佳实践

### 导出最佳实践

1. **定期备份**: 定期导出重要数据作为备份
2. **分批导出**: 大数据量按时间或类型分批导出
3. **格式选择**:
   - Excel处理使用CSV格式
   - 程序集成使用JSON格式
4. **路径管理**: 使用有意义的文件名和目录结构

### 导入最佳实践

1. **数据验证**: 导入前验证数据完整性和格式
2. **测试导入**: 先用少量数据测试导入流程
3. **增量导入**: 避免重复导入已有数据
4. **错误处理**: 及时处理导入错误，避免数据污染

## 文件管理

### 导出文件组织
```
exports/
├── stock_basic/
│   ├── stock_basic_20240101.csv
│   └── stock_basic_20240102.json
├── stock_daily/
│   ├── daily_000001_20240101.csv
│   └── daily_600000_20240101.json
└── signals/
    └── signals_20240101.json
```

### 文件命名规范
- 使用时间戳区分不同版本
- 包含数据类型和日期信息
- 使用统一的文件扩展名

## 性能优化

### 导出优化
- 合理设置导出数据量
- 使用压缩格式减少文件大小
- 选择合适的导出时间

### 导入优化
- 避免导入重复数据
- 使用批量插入提高效率
- 合理设置超时时间

## 安全注意事项

1. **数据备份**: 操作前备份重要数据
2. **权限控制**: 确保只有授权用户可操作
3. **文件安全**: 妥善保管导出的数据文件
4. **数据验证**: 验证导入数据的来源和完整性

## 技术支持

如遇到导入导出问题，请：

1. **查看日志**: 检查详细的错误信息
2. **使用模板**: 确保使用正确的数据格式
3. **分批处理**: 大数据量分批处理
4. **联系支持**: 提供详细的错误信息和文件样本

---

**注意**: 导入导出功能主要用于数据备份和迁移，请确保数据来源可靠，避免导入错误或恶意数据。